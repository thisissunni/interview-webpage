<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>采访提纲</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* 设置整体页面样式 */
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }

        .question-page {
            display: none; /* 默认不显示 */
            transition: transform 0.5s ease-in-out; /* 添加页面过渡动画 */
        }

        .question-page.active {
            display: block; /* 当前页面显示 */
        }

        .nav-button {
            font-size: 24px;
            cursor: pointer;
            padding: 10px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 50%;
            transition: background-color 0.3s;
        }

        .nav-button:hover {
            background-color: #0056b3;
        }

        .question {
            margin-bottom: 30px;
        }

        .upload-container {
            margin-top: 10px;
        }

        .upload-container input[type="file"] {
            margin-right: 10px;
        }

        textarea {
            width: 100%;
            height: 100px;
        }

        /* 样式调整：录音按钮和播放器 */
        .upload-container button,
        .upload-container audio {
            height: 40px;
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 问题 1 -->
        <div class="question-page active" id="page1">
            <h3>1. 李记者，请问在您的工作中，会参与到《DV现场》栏目的哪些方面？</h3>
            <textarea class="form-control" rows="4" placeholder="请在此回答..."></textarea>
            <div class="upload-container">
                <input type="file" accept="image/*,audio/*" multiple>
                <button id="recordButton">开始录音</button>
                <audio id="audioPlayer" controls></audio>
            </div>
        </div>

        <!-- 问题 2 -->
        <div class="question-page" id="page2">
            <h3>2. 在很多人眼中，《DV现场》是一档很有特色的栏目，您作为贴近新闻生产端的记者，在您心中这是一档什么样的栏目呢？</h3>
            <textarea class="form-control" rows="4" placeholder="请在此回答..."></textarea>
            <div class="upload-container">
                <input type="file" accept="image/*,audio/*" multiple>
                <button id="recordButton2">开始录音</button>
                <audio id="audioPlayer2" controls></audio>
            </div>
        </div>

        <!-- 更多问题继续添加 -->
        <!-- 你可以继续按此格式添加更多问题 -->

        <!-- 左右翻页按钮 -->
        <div class="text-center">
            <button class="nav-button" id="prevButton">←</button>
            <button class="nav-button" id="nextButton">→</button>
        </div>
    </div>

    <script>
        let currentPage = 1;
        const totalPages = 2;  // 设置总页面数，按需调整

        const pages = document.querySelectorAll('.question-page');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');

        function updatePage() {
            // 隐藏所有页面
            pages.forEach(page => page.classList.remove('active'));

            // 显示当前页面
            document.getElementById(`page${currentPage}`).classList.add('active');
        }

        prevButton.addEventListener('click', () => {
            if (currentPage > 1) {
                currentPage--;
                updatePage();
            }
        });

        nextButton.addEventListener('click', () => {
            if (currentPage < totalPages) {
                currentPage++;
                updatePage();
            }
        });

        // 初始化页面
        updatePage();

        // 录音功能
        function setupRecording(buttonId, audioPlayerId) {
            let recordButton = document.getElementById(buttonId);
            let audioPlayer = document.getElementById(audioPlayerId);
            let mediaRecorder;
            let audioChunks = [];

            recordButton.addEventListener('click', () => {
                if (mediaRecorder && mediaRecorder.state === 'recording') {
                    // 停止录音
                    mediaRecorder.stop();
                    recordButton.textContent = '开始录音';
                } else {
                    // 开始录音
                    navigator.mediaDevices.getUserMedia({ audio: true })
                        .then(stream => {
                            mediaRecorder = new MediaRecorder(stream);
                            mediaRecorder.ondataavailable = event => {
                                audioChunks.push(event.data);
                            };
                            mediaRecorder.onstop = () => {
                                let audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
                                let audioURL = URL.createObjectURL(audioBlob);
                                audioPlayer.src = audioURL;
                            };
                            mediaRecorder.start();
                            recordButton.textContent = '停止录音';
                        })
                        .catch(err => console.error('Error accessing media devices.', err));
                }
            });
        }

        // 为每个录音按钮和播放器设置功能
        setupRecording('recordButton', 'audioPlayer');
        setupRecording('recordButton2', 'audioPlayer2');
    </script>
</body>
</html>
